<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let cart = [{
            name: 'iphone',
            price: 12000
        }, {
            name: 'iphone',
            price: 12000
        }, {
            name: 'imac',
            price: 25000
        }, {
            name: 'imac',
            price: 25000
        }, {
            name: 'imac',
            price: 25000
        }, {
            name: 'ipad',
            price: 3600
        }]

        // includes不能用于查找引用类型 需要使用find
        // find和findIndex的使用方法见4-16
        function filterGoods(goods) {
            return goods.reduce(function(pre, val) {
                let mid = pre.find(function(item) {
                    return item.name == val.name
                })

                // 如果mid是undefined，则隐式类型转化是false，再加上！就是true
                // 这里的逻辑表示，如果mid是undefined，也就是新遍历进来的对象在数组中没有找到
                // 然后转化成true，就可以执行添加进数组的逻辑

                if (!mid) {
                    pre.push(val)
                }
                return pre

            }, [])
        }

        console.log(filterGoods(cart))

        // function filterGoods(goods) {
        //     return goods.reduce(function(arr, cur) {
        //         let find = arr.find(function(item) {
        //                 if (item.name == cur.name) {
        //                     console.log("item", item)
        //                     return true
        //                 }
        //             }) // find循环里面如果return的结果是ture，则会把item返回出来
        //         console.log(find)
        //         console.log("jiange")
        //         console.log("")
        //         if (!find) {
        //             arr.push(cur)
        //         }
        //         return arr

        //     }, [])
        // }


        // console.log(filterGoods(cart))
    </script>
</body>

</html>